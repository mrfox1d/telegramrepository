<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Boardly - –ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="main-menu" class="screen active">
        <div class="container">
            <h1 class="logo">üé≤ Boardy</h1>
            <p class="subtitle">–ò–≥—Ä–∞–π—Ç–µ –≤ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã —Å –¥—Ä—É–∑—å—è–º–∏!</p>

            <div class="user-stats">
                <div class="stat">
                    <span class="stat-label">–ò–≥—Ä–æ–∫:</span>
                    <span class="stat-value" id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                </div>
                <div class="stat">
                    <span class="stat-label">–ü–æ–±–µ–¥:</span>
                    <span class="stat-value" id="wins">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥:</span>
                    <span class="stat-value" id="rating">1000</span>
                </div>
            </div>

            <div class="games-grid">
                <div class="game-card" onclick="selectGame('chess')">
                    <div class="game-icon">‚ôüÔ∏è</div>
                    <div class="game-name">–®–∞—Ö–º–∞—Ç—ã</div>
                    <div class="game-players">2 –∏–≥—Ä–æ–∫–∞</div>
                </div>

                <div class="game-card" onclick="selectGame('checkers')">
                    <div class="game-icon">‚ö´</div>
                    <div class="game-name">–®–∞—à–∫–∏</div>
                    <div class="game-players">2 –∏–≥—Ä–æ–∫–∞</div>
                </div>

                <div class="game-card" onclick="selectGame('rps')">
                    <div class="game-icon">‚úä</div>
                    <div class="game-name">–ö–ù–ë</div>
                    <div class="game-players">2 –∏–≥—Ä–æ–∫–∞</div>
                </div>
            </div>

            <div class="active-games" id="active-games">
                <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã</h3>
                <div id="games-list" class="games-list">
                    <p class="empty-state">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä</p>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ -->
    <div id="mode-select" class="screen">
        <div class="container">
            <button class="back-btn" onclick="showScreen('main-menu')">‚Üê –ù–∞–∑–∞–¥</button>
            
            <h2 id="game-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º</h2>

            <div class="mode-grid">
                <div class="mode-card" onclick="createGame()">
                    <div class="mode-icon">üéÆ</div>
                    <div class="mode-name">–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</div>
                    <div class="mode-desc">–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞</div>
                </div>

                <div class="mode-card" onclick="findGame()">
                    <div class="mode-icon">üîç</div>
                    <div class="mode-name">–ù–∞–π—Ç–∏ –∏–≥—Ä—É</div>
                    <div class="mode-desc">–°–ª—É—á–∞–π–Ω—ã–π —Å–æ–ø–µ—Ä–Ω–∏–∫</div>
                </div>

                <div class="mode-card" onclick="joinByCode()">
                    <div class="mode-icon">üî¢</div>
                    <div class="mode-name">–ü–æ –∫–æ–¥—É</div>
                    <div class="mode-desc">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–≥—Ä—ã</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–∂–∏–¥–∞–Ω–∏—è -->
    <div id="waiting-screen" class="screen">
        <div class="container">
            <button class="back-btn" onclick="cancelWaiting()">‚Üê –û—Ç–º–µ–Ω–∏—Ç—å</button>
            
            <div class="waiting-content">
                <div class="spinner"></div>
                <h2>–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞...</h2>
                
                <div class="game-code" id="game-code-display" style="display: none;">
                    <p>–ö–æ–¥ –∏–≥—Ä—ã –¥–ª—è –¥—Ä—É–≥–∞:</p>
                    <div class="code-box">
                        <span id="game-code">XXXX</span>
                        <button onclick="copyCode()" class="copy-btn">üìã</button>
                    </div>
                    <button onclick="shareGame()" class="share-btn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="game-screen" class="screen">
        <div class="container">
            <button class="back-btn" onclick="leaveGame()">‚Üê –í—ã–π—Ç–∏</button>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–∞—Ö -->
            <div class="players-info">
                <div class="player player-1">
                    <div class="player-avatar">üë§</div>
                    <div class="player-details">
                        <div class="player-name" id="player1-name">–ò–≥—Ä–æ–∫ 1</div>
                        <div class="player-time" id="player1-time">10:00</div>
                    </div>
                </div>

                <div class="game-status">
                    <div class="turn-indicator" id="turn-indicator">–í–∞—à —Ö–æ–¥</div>
                </div>

                <div class="player player-2">
                    <div class="player-avatar">üë§</div>
                    <div class="player-details">
                        <div class="player-name" id="player2-name">–ò–≥—Ä–æ–∫ 2</div>
                        <div class="player-time" id="player2-time">10:00</div>
                    </div>
                </div>
            </div>

            <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏) -->
            <div id="game-board" class="game-board">
                <!-- –°—é–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∏–≥—Ä–∞ -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="game-actions">
                <button class="action-btn" onclick="offerDraw()">ü§ù –ù–∏—á—å—è</button>
                <button class="action-btn" onclick="resign()">üè≥Ô∏è –°–¥–∞—Ç—å—Å—è</button>
            </div>

            <!-- –ß–∞—Ç -->
            <div class="game-chat" id="game-chat">
                <div class="chat-messages" id="chat-messages"></div>
                <div class="chat-input">
                    <input type="text" id="chat-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
                    <button onclick="sendMessage()">üì§</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
    <div id="result-screen" class="screen">
        <div class="container">
            <div class="result-content">
                <div class="result-icon" id="result-icon">üèÜ</div>
                <h2 id="result-title">–ü–æ–±–µ–¥–∞!</h2>
                <p id="result-description">–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –ø–∞—Ä—Ç–∏—é</p>

                <div class="result-stats">
                    <div class="result-stat">
                        <span class="label">–†–µ–π—Ç–∏–Ω–≥:</span>
                        <span class="value" id="rating-change">+25</span>
                    </div>
                    <div class="result-stat">
                        <span class="label">–í—Ä–µ–º—è:</span>
                        <span class="value" id="game-duration">5:32</span>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="btn btn-primary" onclick="showScreen('main-menu')">–í –º–µ–Ω—é</button>
                    <button class="btn btn-secondary" onclick="rematch()">–†–µ–≤–∞–Ω—à</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="games/chess.js"></script>
    <script src="games/checkers.js"></script>
    <script src="games/rps.js"></script>
</body>
</html>